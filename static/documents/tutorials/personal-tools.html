<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="keywords" content="Markdown, Zotero, Bibliography">

<title>Readers &amp; Tutorials - Personal Tools</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Readers &amp; Tutorials</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Reader.qmd" rel="" target="">
 <span class="menu-text">Reader</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./personal-tools.html" rel="" target="" aria-current="page">
 <span class="menu-text">Personal Tools</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./wikidata-tutorial.html" rel="" target="">
 <span class="menu-text">Wikidata</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-linkedin"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://www.linkedin.com/in/antaldaniel/">
            Daniel Antal
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://www.linkedin.com/company/68855596/">
            Reprex
            </a>
          </li>
      </ul>
    </div>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-1" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-1">
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://github.com/dataobservatory-eu/opencollections-tutorials">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://github.com/dataobservatory-eu/opencollections-tutorials/issues">
            Report an Error
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://github.com/dataobservatory-eu/opencollections-tutorials/issues">
            Request Improvements
            </a>
          </li>
      </ul>
    </div>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#writing-interoperability-type-a-text-that-appears-on-any-paper-or-screen-format-well" id="toc-writing-interoperability-type-a-text-that-appears-on-any-paper-or-screen-format-well" class="nav-link active" data-scroll-target="#writing-interoperability-type-a-text-that-appears-on-any-paper-or-screen-format-well">Writing interoperability: type a text that appears on any paper or screen format well</a></li>
  <li><a href="#quarto" id="toc-quarto" class="nav-link" data-scroll-target="#quarto">Quarto</a></li>
  <li><a href="#citation-management" id="toc-citation-management" class="nav-link" data-scroll-target="#citation-management">Citation management</a>
  <ul class="collapse">
  <li><a href="#interoperable-bibliography" id="toc-interoperable-bibliography" class="nav-link" data-scroll-target="#interoperable-bibliography">Bibliographies for all computer systems and programs</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Personal Tools</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="writing-interoperability-type-a-text-that-appears-on-any-paper-or-screen-format-well" class="level2">
<h2 class="anchored" data-anchor-id="writing-interoperability-type-a-text-that-appears-on-any-paper-or-screen-format-well">Writing interoperability: type a text that appears on any paper or screen format well</h2>
<p>All our output needs to be converted to HTML, but that does not mean that we need to work in an HTML editor. However, the need of interoperability among operating systems (Windows, MacOs, Linux) and software packages (at least from Word, Libre, Google Docs to HTML, preferably to PDF, too) requires a simple, common notation.</p>
<p>Markdown is a much simplified HTML-like text markup notation intended to work well with word processors.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://mdg.imgix.net/assets/images/markdown-flowchart.png?auto=format&amp;fit=clip&amp;q=40&amp;w=1080%22" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">From a simple markdown text file, you can create HTML, Word, PDF, EPUB or even PowerPoint and other web slides.</figcaption>
</figure>
</div>
<p>There are countless Markdown editors. Because Markdown is so simple, you can, if you want to, edit markdown files in Notepad, WordPad (Windows) or VIM (Linux).</p>
<p>Most word processors support markdown. For example, Google Docs has a <a href="https://workspace.google.com/marketplace/app/docs_to_markdown/700168918607">free extension</a> that converts and document from Docs to markdown.</p>
<p>There are several online Markdown editors that you can use to try writing in Markdown. <a href="https://dillinger.io/">Dillinger</a> is one of the best online Markdown editors. Just open the site and start typing in the left pane. A preview of the rendered document appears in the right pane.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://dillinger.io/"><img src="png/markdown/dilliger_example.png" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption">You can link Dilinger with your Dropbox, Google Drive, Microsoft One Drive, BitBucket, and write text that can be converted to HTML, PDF, and with a bit of tweaking to Word or even PowerPoint.</figcaption>
</figure>
</div>
<p>Most word processors support markdown. For example, Google Docs has a <a href="https://workspace.google.com/marketplace/app/docs_to_markdown/700168918607">free extension</a> that converts and document from Docs to markdown.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Further markdown reading
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><a href="https://www.markdownguide.org/basic-syntax/">Basic Syntax</a></li>
<li><a href="https://www.markdownguide.org/extended-syntax/">Extended Syntax</a></li>
</ul>
</div>
</div>
</section>
<section id="quarto" class="level2">
<h2 class="anchored" data-anchor-id="quarto">Quarto</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://quarto.org/docs/get-started/"><img src="png/tools/quarto-2x1.png" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption">Quarto is an open-source scientific and technical publishing system. If you write code, you can use it as an extension to your favorite IDE.</figcaption>
</figure>
</div>
<p>If not, a good way to start writing fully interoperable, smart text is to use it with <a href="https://code.visualstudio.com/">Microsoft VS Code</a>. Yes, it is a bit geeky: you will write text as if it was a software code.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://code.visualstudio.com/"><img src="png/tools/vs_code_2x1.png" class="img-fluid figure-img"></a></p>
<figcaption class="figure-caption">If not, a good way to start writing fully interoperable, smart text is to use it with Microsoft VS Code. Yes, it is a bit geeky: you will write text as if it was a software code.</figcaption>
</figure>
</div>
<p>The flip side is that you will use a word processor that immediately creates you dashboards, websites, ebooks, and scientific presentations of publications.</p>
<ul>
<li><p>Author using <a href="https://jupyter.org/">Jupyter</a> notebooks or with plain text markdown in your favorite editor.</p></li>
<li><p>Create dynamic content with <a href="https://quarto.org/docs/computations/python.html">Python</a>, <a href="https://quarto.org/docs/computations/r.html">R</a>, <a href="https://quarto.org/docs/computations/julia.html">Julia</a>, and <a href="https://quarto.org/docs/computations/ojs.html">Observable</a>.</p></li>
<li><p>Publish reproducible, production quality articles, presentations, dashboards, websites, blogs, and books in HTML, PDF, MS Word, ePub, and more.</p></li>
<li><p>Share knowledge and insights organization-wide by publishing to <a href="https://quarto.org/docs/publishing/rstudio-connect.html">Posit Connect</a>, <a href="https://quarto.org/docs/publishing/confluence.html">Confluence</a>, or other publishing systems.</p></li>
<li><p>Write using <a href="https://pandoc.org/">Pandoc</a> markdown, including equations, citations, crossrefs, figure panels, callouts, advanced layout, and more.</p></li>
</ul>
<p><a href="https://quarto.org/docs/get-started/">Install Quarto</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>quarto install extension quarto<span class="sc">-</span>ext<span class="sc">/</span>fontawesome</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="citation-management" class="level2">
<h2 class="anchored" data-anchor-id="citation-management">Citation management</h2>
<section id="interoperable-bibliography" class="level3">
<h3 class="anchored" data-anchor-id="interoperable-bibliography">Bibliographies for all computer systems and programs</h3>
<p>The <code>biblatex</code> format is the most likely format that you will use for scientific publications. You can export a collection, or more practically, a folder in a collection as a starting point, into the BibLatex format from Zotero (introduced in the previous chapter <a href="#zotero">Collaboration Tools - Zotero</a>. See <em>Zotero</em> as a graphic UI, like Windows 11 or MacOS as a human-readable reference database, and the <code>biblatex</code> is a machine-readable (DOS or BSD) part. The standard output from <em>Zotero</em> is a good start, but usually, it is not perfect. Please open the <code>bib/example.bib</code> file and see an example of how to make a reference more usable and interoperable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="sc">@</span>book{example_id_2015,<span class="sc">---</span>you will use this <span class="cf">in</span> your text<span class="sc">&lt;</span><span class="er">/</span>br<span class="sc">&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    author <span class="ot">=</span> {Doe, Jane},<span class="sc">&lt;</span><span class="er">/</span>br<span class="sc">&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    editor <span class="ot">=</span> {Doe, Joe},<span class="sc">&lt;</span><span class="er">/</span>br<span class="sc">&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    date <span class="ot">=</span> {<span class="dv">2015-06-06</span>},<span class="sc">&lt;</span><span class="er">/</span>br<span class="sc">&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    year <span class="ot">=</span> {<span class="dv">2015</span>},<span class="sc">---</span>some programs do not convert from date automatically<span class="sc">&lt;</span><span class="er">/</span>br<span class="sc">&gt;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    month <span class="ot">=</span> {<span class="dv">06</span>},<span class="sc">---</span>not needed with books, journals<span class="sc">&lt;</span><span class="er">/</span>br<span class="sc">&gt;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    day <span class="ot">=</span> {<span class="dv">06</span>},<span class="sc">---</span>not needed with books, journals<span class="sc">&lt;</span><span class="er">/</span>br<span class="sc">&gt;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    doi <span class="ot">=</span> {<span class="sc">&lt;</span>a Digital Object identifier code goes here<span class="sc">&gt;</span>},<span class="sc">---</span>connects to web resources<span class="sc">&lt;</span>br<span class="sc">&gt;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    isbn <span class="ot">=</span> {<span class="sc">&lt;</span>an International Standard Book Number identifier goes here<span class="sc">&gt;</span>},<span class="sc">&lt;</span>br<span class="sc">&gt;</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    urldate <span class="ot">=</span> {<span class="dv">2023-07-12</span>},<span class="sc">&lt;</span>br<span class="sc">&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    title <span class="ot">=</span> {This is an {EXAMPLE} title}, <span class="sc">---</span> the EXAMPLE remains UPPERCASE<span class="sc">&lt;</span>br<span class="sc">&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    abstract <span class="ot">=</span> {This is the {Place} <span class="cf">for</span> an {AbStraCT}.},<span class="sc">---</span>Keep it short, or omit it<span class="sc">&lt;</span><span class="er">/</span>br<span class="sc">&gt;</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    url <span class="ot">=</span> {http<span class="sc">:</span><span class="er">//</span>example.com<span class="sc">/</span>title},<span class="sc">&lt;</span>br<span class="sc">&gt;</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    issn <span class="ot">=</span> {<span class="sc">&lt;</span>an International Standard Serial Number here<span class="sc">&gt;</span>},<span class="sc">---</span>connects with library catalogues<span class="sc">&lt;</span>br<span class="sc">&gt;</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    publisher <span class="ot">=</span> {{Digital Music Observatory}},<span class="sc">&lt;</span>br<span class="sc">&gt;</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  keywords <span class="ot">=</span> {Example},<span class="sc">---</span>use only standardized keywords, like [LCSH](https<span class="sc">:</span><span class="er">//</span>id.loc.gov<span class="sc">/</span>authorities<span class="sc">/</span>subjects.html)<span class="sc">&lt;</span>br<span class="sc">&gt;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A <code>.bib</code> file is a text file that you can edit in Notepad or WordPad on Windows, VIM on Linux, in RStudio, or any text editor (not word processor like Word.) It contains the notation of <em>programmable bibliographic</em> references.</p>
<p>In <code>biblatex</code>, each field has a value. For example, <code>year=2015</code> stands for the publication year <code>2015</code>. When text is used and not a number, for example, month={March}, you use the <code>{}</code> sign as a quotation. The most likely formatting error is with <code>{}</code>.</p>
<ul>
<li><p><strong>Simple values</strong> have their own standard readings: <code>author={Doe, Jane}</code> will translate to <code>J. Doe</code> or <code>Jane Doe</code>. The <code>author={Jane Doe}</code> will translate to <code>D. Jane</code>, or <code>Doe Jane</code>, because the standard name setting is GivenName, FamilyName.</p></li>
<li><p><strong>Double quotation</strong> can override whatever standards. For example, <code>author={{Jane Doe}}</code> will always read as <code>Jane Doe</code> and not Doe Jane or J. Doe. This is what you use with institutional authors. When no person is named as an author, for example, in the case of a statute law text, use the double quotation. <code>author={{European Commission}}</code> with read <code>European Commission</code>, but <code>author={European Commission}</code> will read <code>C. European</code>.</p></li>
<li><p><strong>Add a language identifier</strong>, for example, for English language books:<br> <code>language = {en}</code>. Your title will be converted to the linguistic requirements of the given language. If you use multiple languages, and you want to avoid English title case for a Slovak or Hungarian document, then double quote the <code>title={{This is a sentence case title}}</code> will be <code>This is a sentence case title</code>, but <code>title = {{This is sentence case}}</code> will be overwritten to <code>This is Sentence Case</code> if your default language is English.</p></li>
<li><p>If you use an <strong>acronym</strong>, then you always have to use double quotation. <code>The role of the EU in global politics</code> must be written title = <code>{The role of the {EU} in global politics}</code>; otherwise, the EU part will be converted to Eu in English and eu in Slovak. In this case, every word will be captions as required by your main document, but the <code>EU</code> part will always remain <code>EU</code>.</p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>